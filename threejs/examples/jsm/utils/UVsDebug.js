import{Vector2}from"three";function UVsDebug(t,e=1024){const r=new Vector2,o=new Vector2,l=[new Vector2,new Vector2,new Vector2],f=[],i=document.createElement("canvas"),n=e,c=e;i.width=n,i.height=c;const u=i.getContext("2d");u.lineWidth=1,u.strokeStyle="rgb( 63, 63, 63 )",u.textAlign="center",u.fillStyle="rgb( 255, 255, 255 )",u.fillRect(0,0,n,c);const x=t.index,b=t.attributes.uv;if(x)for(let t=0,e=x.count;t<e;t+=3)f[0]=x.getX(t),f[1]=x.getX(t+1),f[2]=x.getX(t+2),l[0].fromBufferAttribute(b,f[0]),l[1].fromBufferAttribute(b,f[1]),l[2].fromBufferAttribute(b,f[2]),g(f,l,t/3);else for(let t=0,e=b.count;t<e;t+=3)f[0]=t,f[1]=t+1,f[2]=t+2,l[0].fromBufferAttribute(b,f[0]),l[1].fromBufferAttribute(b,f[1]),l[2].fromBufferAttribute(b,f[2]),g(f,l,t/3);return i;function g(t,e,l){u.beginPath(),r.set(0,0);for(let t=0,o=e.length;t<o;t++){const o=e[t];r.x+=o.x,r.y+=o.y,0===t?u.moveTo(o.x*(n-2)+.5,(1-o.y)*(c-2)+.5):u.lineTo(o.x*(n-2)+.5,(1-o.y)*(c-2)+.5)}u.closePath(),u.stroke(),r.divideScalar(e.length),u.font="18px Arial",u.fillStyle="rgb( 63, 63, 63 )",u.fillText(l,r.x*n,(1-r.y)*c),r.x>.95&&u.fillText(l,r.x%1*n,(1-r.y)*c),u.font="12px Arial",u.fillStyle="rgb( 191, 191, 191 )";for(let l=0,f=e.length;l<f;l++){const f=e[l];o.addVectors(r,f).divideScalar(2);const i=t[l];u.fillText("abc"[l]+i,o.x*n,(1-o.y)*c),o.x>.95&&u.fillText("abc"[l]+i,o.x%1*n,(1-o.y)*c)}}}export{UVsDebug};