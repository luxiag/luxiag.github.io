import{ShaderMaterial,UniformsUtils,WebGLRenderTarget}from"three";import{Pass,FullScreenQuad}from"./Pass.js";import{CopyShader}from"../shaders/CopyShader.js";class SavePass extends Pass{constructor(e){super();const r=CopyShader;this.textureID="tDiffuse",this.uniforms=UniformsUtils.clone(r.uniforms),this.material=new ShaderMaterial({uniforms:this.uniforms,vertexShader:r.vertexShader,fragmentShader:r.fragmentShader}),this.renderTarget=e,void 0===this.renderTarget&&(this.renderTarget=new WebGLRenderTarget,this.renderTarget.texture.name="SavePass.rt"),this.needsSwap=!1,this.fsQuad=new FullScreenQuad(this.material)}render(e,r,s){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=s.texture),e.setRenderTarget(this.renderTarget),this.clear&&e.clear(),this.fsQuad.render(e)}setSize(e,r){this.renderTarget.setSize(e,r)}dispose(){this.renderTarget.dispose(),this.material.dispose(),this.fsQuad.dispose()}}export{SavePass};