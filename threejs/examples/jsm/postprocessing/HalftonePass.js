import{ShaderMaterial,UniformsUtils}from"three";import{Pass,FullScreenQuad}from"./Pass.js";import{HalftoneShader}from"../shaders/HalftoneShader.js";class HalftonePass extends Pass{constructor(e,r,s){super(),this.uniforms=UniformsUtils.clone(HalftoneShader.uniforms),this.material=new ShaderMaterial({uniforms:this.uniforms,fragmentShader:HalftoneShader.fragmentShader,vertexShader:HalftoneShader.vertexShader}),this.uniforms.width.value=e,this.uniforms.height.value=r;for(const e in s)s.hasOwnProperty(e)&&this.uniforms.hasOwnProperty(e)&&(this.uniforms[e].value=s[e]);this.fsQuad=new FullScreenQuad(this.material)}render(e,r,s){this.material.uniforms.tDiffuse.value=s.texture,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(r),this.clear&&e.clear(),this.fsQuad.render(e))}setSize(e,r){this.uniforms.width.value=e,this.uniforms.height.value=r}dispose(){this.material.dispose(),this.fsQuad.dispose()}}export{HalftonePass};