import InputNode from"./InputNode.js";import{addNodeClass}from"./Node.js";import{nodeObject,getConstNodeType}from"../shadernode/ShaderNode.js";class UniformNode extends InputNode{constructor(e,o=null){super(e,o),this.isUniformNode=!0}getUniformHash(e){return this.getHash(e)}generate(e,o){const t=this.getNodeType(e),r=this.getUniformHash(e);let d=e.getNodeFromHash(r);void 0===d&&(e.setHashNode(this,r),d=this);const s=d.getInputType(e),n=e.getUniformFromNode(d,e.shaderStage,s),i=e.getPropertyName(n);return e.format(i,t,o)}}export default UniformNode;export const uniform=(e,o)=>{const t=getConstNodeType(o||e),r=e&&!0===e.isNode?e.node&&e.node.value||e.value:e;return nodeObject(new UniformNode(r,t))};addNodeClass(UniformNode);