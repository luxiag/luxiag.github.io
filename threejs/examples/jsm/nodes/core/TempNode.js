import Node,{addNodeClass}from"./Node.js";class TempNode extends Node{constructor(e){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).dependenciesCount>1}build(e,t){if("generate"===e.getBuildStage()){const o=e.getVectorType(this.getNodeType(e,t)),r=e.getDataFromNode(this);if(!1!==e.context.tempRead&&void 0!==r.propertyName)return e.format(r.propertyName,o,t);if(!1!==e.context.tempWrite&&"void"!==o&&"void"!==t&&this.hasDependencies(e)){const d=super.build(e,o),p=e.getVarFromNode(this,o),s=e.getPropertyName(p);return e.addLineFlowCode(`${s} = ${d}`),r.snippet=d,r.propertyName=s,e.format(r.propertyName,o,t)}}return super.build(e,t)}}export default TempNode;addNodeClass(TempNode);