import Node,{addNodeClass}from"./Node.js";import NodeCache from"./NodeCache.js";import{addNodeElement,nodeProxy}from"../shadernode/ShaderNode.js";class CacheNode extends Node{constructor(e,o=new NodeCache){super(),this.isCacheNode=!0,this.node=e,this.cache=o}getNodeType(e){return this.node.getNodeType(e)}build(e,...o){const d=e.getCache();e.setCache(this.cache);const c=this.node.build(e,...o);return e.setCache(d),c}}export default CacheNode;export const cache=nodeProxy(CacheNode);addNodeElement("cache",cache),addNodeClass(CacheNode);