import Node,{addNodeClass}from"../core/Node.js";class ConvertNode extends Node{constructor(e,o){super(),this.node=e,this.convertTo=o}getNodeType(e){const o=this.node.getNodeType(e);let t=null;for(const r of this.convertTo.split("|"))null!==t&&e.getTypeLength(o)!==e.getTypeLength(r)||(t=r);return t}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,o){const t=this.node,r=this.getNodeType(e),s=t.build(e,r);return e.format(s,r,o)}}export default ConvertNode;addNodeClass(ConvertNode);