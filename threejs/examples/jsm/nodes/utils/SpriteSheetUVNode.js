import Node,{addNodeClass}from"../core/Node.js";import{uv}from"../accessors/UVNode.js";import{nodeProxy,float,vec2}from"../shadernode/ShaderNode.js";class SpriteSheetUVNode extends Node{constructor(e,o=uv(),d=float(0)){super("vec2"),this.countNode=e,this.uvNode=o,this.frameNode=d}construct(){const{frameNode:e,uvNode:o,countNode:d}=this,{width:t,height:r}=d,s=e.mod(t.mul(r)).floor(),c=s.mod(t),i=r.sub(s.add(1).div(t).ceil()),N=d.reciprocal(),a=vec2(c,i);return o.add(a).mul(N)}}export default SpriteSheetUVNode;export const spritesheetUV=nodeProxy(SpriteSheetUVNode);addNodeClass(SpriteSheetUVNode);