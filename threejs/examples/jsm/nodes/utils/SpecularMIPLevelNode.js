import Node,{addNodeClass}from"../core/Node.js";import{maxMipLevel}from"./MaxMipLevelNode.js";import{nodeProxy}from"../shadernode/ShaderNode.js";class SpecularMIPLevelNode extends Node{constructor(e,o=null){super("float"),this.textureNode=e,this.roughnessNode=o}construct(){const{textureNode:e,roughnessNode:o}=this,d=maxMipLevel(e),r=o.mul(o).mul(Math.PI).div(o.add(1));return d.add(r.log2()).clamp(0,d)}}export default SpecularMIPLevelNode;export const specularMIPLevel=nodeProxy(SpecularMIPLevelNode);addNodeClass(SpecularMIPLevelNode);