import AnalyticLightNode from"./AnalyticLightNode.js";import{addLightNode}from"./LightsNode.js";import{uniform}from"../core/UniformNode.js";import{mix}from"../math/MathNode.js";import{normalView}from"../accessors/NormalNode.js";import{objectPosition}from"../accessors/Object3DNode.js";import{addNodeClass}from"../core/Node.js";import{Color,HemisphereLight}from"three";class HemisphereLightNode extends AnalyticLightNode{constructor(o=null){super(o),this.lightPositionNode=objectPosition,this.lightDirectionNode=objectPosition.normalize(),this.groundColorNode=uniform(new Color)}update(o){const{light:e}=this;super.update(o),this.lightPositionNode.object3d=e,this.groundColorNode.value.copy(e.groundColor).multiplyScalar(e.intensity)}generate(o){const{colorNode:e,groundColorNode:i,lightDirectionNode:t}=this,r=normalView.dot(t).mul(.5).add(.5),d=mix(i,e,r);o.context.irradiance.addAssign(d)}}export default HemisphereLightNode;addLightNode(HemisphereLight,HemisphereLightNode),addNodeClass(HemisphereLightNode);