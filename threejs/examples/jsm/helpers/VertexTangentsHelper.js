import{BufferGeometry,Float32BufferAttribute,LineSegments,LineBasicMaterial,Vector3}from"three";const _v1=new Vector3,_v2=new Vector3;class VertexTangentsHelper extends LineSegments{constructor(t,e=1,r=65535){const i=new BufferGeometry,s=t.geometry.attributes.tangent.count,o=new Float32BufferAttribute(2*s*3,3);i.setAttribute("position",o),super(i,new LineBasicMaterial({color:r,toneMapped:!1})),this.object=t,this.size=e,this.type="VertexTangentsHelper",this.matrixAutoUpdate=!1,this.update()}update(){this.object.updateMatrixWorld(!0);const t=this.object.matrixWorld,e=this.geometry.attributes.position,r=this.object.geometry,i=r.attributes.position,s=r.attributes.tangent;let o=0;for(let r=0,a=i.count;r<a;r++)_v1.fromBufferAttribute(i,r).applyMatrix4(t),_v2.fromBufferAttribute(s,r),_v2.transformDirection(t).multiplyScalar(this.size).add(_v1),e.setXYZ(o,_v1.x,_v1.y,_v1.z),o+=1,e.setXYZ(o,_v2.x,_v2.y,_v2.z),o+=1;e.needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}export{VertexTangentsHelper};