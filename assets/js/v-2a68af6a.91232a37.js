"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[6251],{80132:(a,n,s)=>{s.r(n),s.d(n,{default:()=>k});var t=s(71534);const e=s.p+"assets/img/065001610032932323.1669402b.png",c=s.p+"assets/img/747002510032932323.d582e62a.png",p=s.p+"assets/img/957001111032932323.a8b93821.png",o=s.p+"assets/img/679004011032932323.858b8d84.png",d=s.p+"assets/img/277004311032932323.f28f6af9.png",l=s.p+"assets/img/008004711032932323.3a3b6b6d.png";var v=s(32049);const i={href:"https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-fundamentals.html",target:"_blank",rel:"noopener noreferrer"},u=(0,t.uE)('<p data-v-67e9cf32>WebGL只关心两件事： 裁剪空间中的坐标值和颜色值。使用WebGL只需要给它提供这两个东西。 你需要提供两个着色器来做这两件事，一个顶点着色器提供裁剪空间坐标值，一个片段着色器提供颜色值。</p><p data-v-67e9cf32><strong data-v-67e9cf32>无论你的画布有多大，裁剪空间的坐标范围永远是 -1 到 1</strong></p><p data-v-67e9cf32>1.需要一个HTML中的canvas（画布）对象</p><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token operator" data-v-67e9cf32>&lt;</span>canvas id<span class="token operator" data-v-67e9cf32>=</span><span class="token string" data-v-67e9cf32>&quot;canvas&quot;</span> <span class="token operator" data-v-67e9cf32>&gt;</span><span class="token operator" data-v-67e9cf32>&lt;</span><span class="token operator" data-v-67e9cf32>/</span>canvas<span class="token operator" data-v-67e9cf32>&gt;</span>\n\n<span class="token keyword" data-v-67e9cf32>const</span> canvas <span class="token operator" data-v-67e9cf32>=</span> document<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>querySelector</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token string" data-v-67e9cf32>&#39;#canvas&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><p data-v-67e9cf32>2.创建一个WebGL渲染上下文（WebGLRenderingContext）</p><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>const</span> gl <span class="token operator" data-v-67e9cf32>=</span> canvas<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getContext</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token string" data-v-67e9cf32>&#39;webgl&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span>\n<span class="token keyword" data-v-67e9cf32>if</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token operator" data-v-67e9cf32>!</span>gl<span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n <span class="token comment" data-v-67e9cf32>// 不能使用WebGL</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><p data-v-67e9cf32>3.创建着色器 W e b G L 依 赖 于 一种 新 的 称 为 着 色 器 ( s h a d e r ) 的 绘 图 机 制</p><div class="language-html line-numbers-mode" data-ext="html" data-v-67e9cf32><pre class="language-html" data-v-67e9cf32><code data-v-67e9cf32><span class="token tag" data-v-67e9cf32><span class="token tag" data-v-67e9cf32><span class="token punctuation" data-v-67e9cf32>&lt;</span>script</span> <span class="token attr-name" data-v-67e9cf32>id</span><span class="token attr-value" data-v-67e9cf32><span class="token punctuation attr-equals" data-v-67e9cf32>=</span><span class="token punctuation" data-v-67e9cf32>&quot;</span>vertex-shader-2d<span class="token punctuation" data-v-67e9cf32>&quot;</span></span> <span class="token attr-name" data-v-67e9cf32>type</span><span class="token attr-value" data-v-67e9cf32><span class="token punctuation attr-equals" data-v-67e9cf32>=</span><span class="token punctuation" data-v-67e9cf32>&quot;</span>notjs<span class="token punctuation" data-v-67e9cf32>&quot;</span></span><span class="token punctuation" data-v-67e9cf32>&gt;</span></span><span class="token script" data-v-67e9cf32><span class="token language-javascript" data-v-67e9cf32>\n \n  <span class="token comment" data-v-67e9cf32>// 一个属性变量，将会从缓冲中获取数据</span>\n  attribute vec4 a_position<span class="token punctuation" data-v-67e9cf32>;</span>\n \n  <span class="token comment" data-v-67e9cf32>// 所有着色器都有一个main方法</span>\n  <span class="token keyword" data-v-67e9cf32>void</span> <span class="token function" data-v-67e9cf32>main</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n  \n    <span class="token comment" data-v-67e9cf32>// gl_Position 是一个顶点着色器主要设置的变量</span>\n\n  <span class="token comment" data-v-67e9cf32>// vec4 gl_Position 表示顶点位置 (必须被赋值)</span>\n  <span class="token comment" data-v-67e9cf32>// float gl_PointSize  表 示 点 的 尺 寸 (像 素 数 )</span>\n\n    gl_Position <span class="token operator" data-v-67e9cf32>=</span> a_position<span class="token punctuation" data-v-67e9cf32>;</span>\n  <span class="token punctuation" data-v-67e9cf32>}</span>\n \n</span></span><span class="token tag" data-v-67e9cf32><span class="token tag" data-v-67e9cf32><span class="token punctuation" data-v-67e9cf32>&lt;/</span>script</span><span class="token punctuation" data-v-67e9cf32>&gt;</span></span>\n \n<span class="token tag" data-v-67e9cf32><span class="token tag" data-v-67e9cf32><span class="token punctuation" data-v-67e9cf32>&lt;</span>script</span> <span class="token attr-name" data-v-67e9cf32>id</span><span class="token attr-value" data-v-67e9cf32><span class="token punctuation attr-equals" data-v-67e9cf32>=</span><span class="token punctuation" data-v-67e9cf32>&quot;</span>fragment-shader-2d<span class="token punctuation" data-v-67e9cf32>&quot;</span></span> <span class="token attr-name" data-v-67e9cf32>type</span><span class="token attr-value" data-v-67e9cf32><span class="token punctuation attr-equals" data-v-67e9cf32>=</span><span class="token punctuation" data-v-67e9cf32>&quot;</span>notjs<span class="token punctuation" data-v-67e9cf32>&quot;</span></span><span class="token punctuation" data-v-67e9cf32>&gt;</span></span><span class="token script" data-v-67e9cf32><span class="token language-javascript" data-v-67e9cf32>\n \n  <span class="token comment" data-v-67e9cf32>// 片段着色器没有默认精度，所以我们需要设置一个精度</span>\n  <span class="token comment" data-v-67e9cf32>// mediump是一个不错的默认值，代表“medium precision”（中等精度）</span>\n  precision mediump float<span class="token punctuation" data-v-67e9cf32>;</span>\n \n  <span class="token keyword" data-v-67e9cf32>void</span> <span class="token function" data-v-67e9cf32>main</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n    <span class="token comment" data-v-67e9cf32>// gl_FragColor是一个片段着色器主要设置的变量</span>\n    gl_FragColor <span class="token operator" data-v-67e9cf32>=</span> <span class="token function" data-v-67e9cf32>vec4</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span> <span class="token comment" data-v-67e9cf32>// 返回“瑞迪施紫色”</span>\n  <span class="token punctuation" data-v-67e9cf32>}</span>\n \n</span></span><span class="token tag" data-v-67e9cf32><span class="token tag" data-v-67e9cf32><span class="token punctuation" data-v-67e9cf32>&lt;/</span>script</span><span class="token punctuation" data-v-67e9cf32>&gt;</span></span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token comment" data-v-67e9cf32>// 创建着色器方法，输入参数：渲染上下文，着色器类型，数据源</span>\n<span class="token keyword" data-v-67e9cf32>function</span> <span class="token function" data-v-67e9cf32>createShader</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token parameter" data-v-67e9cf32>gl<span class="token punctuation" data-v-67e9cf32>,</span> type<span class="token punctuation" data-v-67e9cf32>,</span> source</span><span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n  <span class="token keyword" data-v-67e9cf32>var</span> shader <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>createShader</span><span class="token punctuation" data-v-67e9cf32>(</span>type<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span> <span class="token comment" data-v-67e9cf32>// 创建着色器对象</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>shaderSource</span><span class="token punctuation" data-v-67e9cf32>(</span>shader<span class="token punctuation" data-v-67e9cf32>,</span> source<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span> <span class="token comment" data-v-67e9cf32>// 提供数据源</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>compileShader</span><span class="token punctuation" data-v-67e9cf32>(</span>shader<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span> <span class="token comment" data-v-67e9cf32>// 编译 -&gt; 生成着色器</span>\n  <span class="token keyword" data-v-67e9cf32>var</span> success <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getShaderParameter</span><span class="token punctuation" data-v-67e9cf32>(</span>shader<span class="token punctuation" data-v-67e9cf32>,</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>COMPILE_STATUS</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  <span class="token keyword" data-v-67e9cf32>if</span> <span class="token punctuation" data-v-67e9cf32>(</span>success<span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n    <span class="token keyword" data-v-67e9cf32>return</span> shader<span class="token punctuation" data-v-67e9cf32>;</span>\n  <span class="token punctuation" data-v-67e9cf32>}</span>\n \n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>deleteShader</span><span class="token punctuation" data-v-67e9cf32>(</span>shader<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n<span class="token keyword" data-v-67e9cf32>const</span> vertexShaderSource <span class="token operator" data-v-67e9cf32>=</span> document<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>querySelector</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token string" data-v-67e9cf32>&quot;#vertex-shader-2d&quot;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>.</span>text<span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token keyword" data-v-67e9cf32>const</span> fragmentShaderSource <span class="token operator" data-v-67e9cf32>=</span> document<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>querySelector</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token string" data-v-67e9cf32>&quot;#fragment-shader-2d&quot;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>.</span>text<span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token keyword" data-v-67e9cf32>const</span> vertexShader <span class="token operator" data-v-67e9cf32>=</span> <span class="token function" data-v-67e9cf32>createShader</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>,</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>VERTEX_SHADER</span><span class="token punctuation" data-v-67e9cf32>,</span> vertexShaderSource<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token keyword" data-v-67e9cf32>const</span> fragmentShader <span class="token operator" data-v-67e9cf32>=</span> <span class="token function" data-v-67e9cf32>createShader</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>,</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>FRAGMENT_SHADER</span><span class="token punctuation" data-v-67e9cf32>,</span> fragmentShaderSource<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><p data-v-67e9cf32>4.将着色器 link（链接）到一个 program（着色程序）</p><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>function</span> <span class="token function" data-v-67e9cf32>createProgram</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token parameter" data-v-67e9cf32>gl<span class="token punctuation" data-v-67e9cf32>,</span> vertexShader<span class="token punctuation" data-v-67e9cf32>,</span> fragmentShader</span><span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n  <span class="token keyword" data-v-67e9cf32>const</span> program <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>createProgram</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>attachShader</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>,</span> vertexShader<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>attachShader</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>,</span> fragmentShader<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>linkProgram</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  <span class="token keyword" data-v-67e9cf32>var</span> success <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getProgramParameter</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>,</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>LINK_STATUS</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  <span class="token keyword" data-v-67e9cf32>if</span> <span class="token punctuation" data-v-67e9cf32>(</span>success<span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n    <span class="token keyword" data-v-67e9cf32>return</span> program<span class="token punctuation" data-v-67e9cf32>;</span>\n  <span class="token punctuation" data-v-67e9cf32>}</span>\n \n  console<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>log</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getProgramInfoLog</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>deleteProgram</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n<span class="token keyword" data-v-67e9cf32>const</span> program <span class="token operator" data-v-67e9cf32>=</span> <span class="token function" data-v-67e9cf32>createProgram</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>,</span> vertexShader<span class="token punctuation" data-v-67e9cf32>,</span> fragmentShader<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><p data-v-67e9cf32>5.为着色器提供数据</p><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token comment" data-v-67e9cf32>//获取 a_position attribute变量的存储位蛋</span>\n<span class="token keyword" data-v-67e9cf32>const</span> positionAttributeLocation <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getAttribLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>program<span class="token punctuation" data-v-67e9cf32>,</span> <span class="token string" data-v-67e9cf32>&quot;a_position&quot;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token comment" data-v-67e9cf32>//创建缓存区 </span>\n<span class="token keyword" data-v-67e9cf32>const</span> positionBuffer <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>createBuffer</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token comment" data-v-67e9cf32>// 绑定缓存区</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>bindBuffer</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>ARRAY_BUFFER</span><span class="token punctuation" data-v-67e9cf32>,</span> positionBuffer<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token keyword" data-v-67e9cf32>const</span> positions <span class="token operator" data-v-67e9cf32>=</span> <span class="token punctuation" data-v-67e9cf32>[</span>\n    <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span>\n    <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span>\n    <span class="token number" data-v-67e9cf32>0.7</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span>\n  <span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token comment" data-v-67e9cf32>// 将数据写入缓存区</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>bufferData</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>ARRAY_BUFFER</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token keyword" data-v-67e9cf32>new</span> <span class="token class-name" data-v-67e9cf32>Float32Array</span><span class="token punctuation" data-v-67e9cf32>(</span>positions<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>,</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>STATIC_DRAW</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token comment" data-v-67e9cf32>// 连接着色器 a_position变量</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>enableVertexAttribArray</span><span class="token punctuation" data-v-67e9cf32>(</span>positionAttributeLocation<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token comment" data-v-67e9cf32>// 将缓存区数据分配给a_position变量</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>vertexAttribPointer</span><span class="token punctuation" data-v-67e9cf32>(</span>positionAttributeLocation<span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>,</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>FLOAT</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token boolean" data-v-67e9cf32>false</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><p data-v-67e9cf32>6.开始绘制</p><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32> <span class="token comment" data-v-67e9cf32>// 清空画布</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>clearColor</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>clear</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>COLOR_BUFFER_BIT</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token comment" data-v-67e9cf32>// 开始绘制</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>drawArrays</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>TRIANGLES</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span> <span class="token number" data-v-67e9cf32>3</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div>',15),f=(0,t.uE)('<h2 id="顶点着色器" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#顶点着色器" aria-hidden="true" data-v-67e9cf32>#</a> 顶点着色器</h2><p data-v-67e9cf32>顶点着色器是用来描述顶点特性(如位置、颜色等) 的程序。顶点(vertex) 是指 二维或 三维空间中的 一个点，比如 二维或 三维图形的 端点或交点。</p><p data-v-67e9cf32>顶点着色器的作用是计算顶点的位置。根据计算出的一系列顶点位置，WebGL可以对点， 线和三角形在内的一些图元进行光栅化处理。</p><h2 id="片元着色器" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#片元着色器" aria-hidden="true" data-v-67e9cf32>#</a> 片元着色器</h2><p data-v-67e9cf32>进行逐片元处理过程如光照的程序。片元 (fragment ) 是 一 个 WebGL 术 语 ， 你 可 以 将 其 理 解 为 像 素 片段着色器的作用是计算出当前绘制图元中每个像素的颜色值。</p><h2 id="为着色器赋值" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#为着色器赋值" aria-hidden="true" data-v-67e9cf32>#</a> 为着色器赋值</h2><h3 id="attribute" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#attribute" aria-hidden="true" data-v-67e9cf32>#</a> attribute</h3><div class="language-glsl line-numbers-mode" data-ext="glsl" data-v-67e9cf32><pre class="language-glsl" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>attribute</span> <span class="token keyword" data-v-67e9cf32>vec4</span> a_position\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token comment" data-v-67e9cf32>//荻取attzibute变量的存储位置</span>\n<span class="token keyword" data-v-67e9cf32>var</span> a_Position <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getAttribLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span>program<span class="token punctuation" data-v-67e9cf32>,</span> <span class="token string" data-v-67e9cf32>&#39;a_Position&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token comment" data-v-67e9cf32>//将数据(v0,v1,v2)传给由location参数指定的attribution变量</span>\n<span class="token comment" data-v-67e9cf32>// 1f 2f 3f</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>vertexAttrib3f</span><span class="token punctuation" data-v-67e9cf32>(</span>a_Position<span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.0</span><span class="token punctuation" data-v-67e9cf32>)</span>\n<span class="token comment" data-v-67e9cf32>// </span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>drawArrays</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>POINTS</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><h3 id="uniform" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#uniform" aria-hidden="true" data-v-67e9cf32>#</a> uniform</h3><div class="language-glsl line-numbers-mode" data-ext="glsl" data-v-67e9cf32><pre class="language-glsl" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>uniform</span> <span class="token keyword" data-v-67e9cf32>vec4</span> u_FragColor<span class="token punctuation" data-v-67e9cf32>;</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32>\n<span class="token keyword" data-v-67e9cf32>let</span> u_FragColor <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getUniformLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span>program<span class="token punctuation" data-v-67e9cf32>,</span><span class="token string" data-v-67e9cf32>&#39;u_FragColor&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>uniform4f</span><span class="token punctuation" data-v-67e9cf32>(</span>u_FragColor<span class="token punctuation" data-v-67e9cf32>,</span>rgba<span class="token punctuation" data-v-67e9cf32>[</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>,</span>rgba<span class="token punctuation" data-v-67e9cf32>[</span><span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>,</span>rgba<span class="token punctuation" data-v-67e9cf32>[</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>,</span>rgba<span class="token punctuation" data-v-67e9cf32>[</span><span class="token number" data-v-67e9cf32>3</span><span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>)</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><h2 id="注册事件" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#注册事件" aria-hidden="true" data-v-67e9cf32>#</a> 注册事件</h2><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32>canvas<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function-variable function" data-v-67e9cf32>onmousedown</span> <span class="token operator" data-v-67e9cf32>=</span> <span class="token keyword" data-v-67e9cf32>function</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token parameter" data-v-67e9cf32>ev</span><span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n <span class="token function" data-v-67e9cf32>click</span><span class="token punctuation" data-v-67e9cf32>(</span>ev<span class="token punctuation" data-v-67e9cf32>,</span>gl<span class="token punctuation" data-v-67e9cf32>,</span>canvas<span class="token punctuation" data-v-67e9cf32>,</span>a_Position<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n<span class="token keyword" data-v-67e9cf32>function</span> <span class="token function" data-v-67e9cf32>click</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token parameter" data-v-67e9cf32>ev<span class="token punctuation" data-v-67e9cf32>,</span>gl<span class="token punctuation" data-v-67e9cf32>,</span>canvas<span class="token punctuation" data-v-67e9cf32>,</span>a_Position</span><span class="token punctuation" data-v-67e9cf32>)</span> <span class="token punctuation" data-v-67e9cf32>{</span>\n <span class="token keyword" data-v-67e9cf32>let</span> x <span class="token operator" data-v-67e9cf32>=</span> ev<span class="token punctuation" data-v-67e9cf32>.</span>clientX<span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>let</span> y <span class="token operator" data-v-67e9cf32>=</span> ev<span class="token punctuation" data-v-67e9cf32>.</span>clientY<span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>const</span> rect <span class="token operator" data-v-67e9cf32>=</span> ev<span class="token punctuation" data-v-67e9cf32>.</span>target<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getBoundingClientRect</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n x <span class="token operator" data-v-67e9cf32>=</span> <span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>(</span>x<span class="token operator" data-v-67e9cf32>-</span>rect<span class="token punctuation" data-v-67e9cf32>.</span>left<span class="token punctuation" data-v-67e9cf32>)</span><span class="token operator" data-v-67e9cf32>-</span> canvas<span class="token punctuation" data-v-67e9cf32>.</span>height<span class="token operator" data-v-67e9cf32>/</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token operator" data-v-67e9cf32>/</span><span class="token punctuation" data-v-67e9cf32>(</span>canvas<span class="token punctuation" data-v-67e9cf32>.</span>height<span class="token operator" data-v-67e9cf32>/</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n y <span class="token operator" data-v-67e9cf32>=</span> <span class="token punctuation" data-v-67e9cf32>(</span>canvas<span class="token punctuation" data-v-67e9cf32>.</span>width<span class="token operator" data-v-67e9cf32>/</span><span class="token number" data-v-67e9cf32>2</span> <span class="token operator" data-v-67e9cf32>-</span> <span class="token punctuation" data-v-67e9cf32>(</span>y<span class="token operator" data-v-67e9cf32>-</span>rect<span class="token punctuation" data-v-67e9cf32>.</span>top<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token operator" data-v-67e9cf32>/</span><span class="token punctuation" data-v-67e9cf32>(</span>canvas<span class="token punctuation" data-v-67e9cf32>.</span>width<span class="token operator" data-v-67e9cf32>/</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>)</span>\n <span class="token keyword" data-v-67e9cf32>let</span> g_points <span class="token operator" data-v-67e9cf32>=</span> <span class="token punctuation" data-v-67e9cf32>[</span><span class="token punctuation" data-v-67e9cf32>]</span>\n g_points<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>push</span><span class="token punctuation" data-v-67e9cf32>(</span>x<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>g_points<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>push</span><span class="token punctuation" data-v-67e9cf32>(</span>y<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>clear</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>COLOR_BUFFER_BIF</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>let</span> len <span class="token operator" data-v-67e9cf32>=</span> g_points<span class="token punctuation" data-v-67e9cf32>.</span>length<span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>for</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token keyword" data-v-67e9cf32>let</span> i <span class="token operator" data-v-67e9cf32>=</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>;</span>i<span class="token operator" data-v-67e9cf32>&lt;</span>len<span class="token punctuation" data-v-67e9cf32>;</span>i<span class="token operator" data-v-67e9cf32>+=</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>{</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>vertexAttrib3f</span><span class="token punctuation" data-v-67e9cf32>(</span>a_Position<span class="token punctuation" data-v-67e9cf32>,</span>g_points<span class="token punctuation" data-v-67e9cf32>[</span>i<span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>,</span>g_points<span class="token punctuation" data-v-67e9cf32>[</span>i<span class="token operator" data-v-67e9cf32>+</span><span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.0</span><span class="token punctuation" data-v-67e9cf32>)</span>\n  gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>drawArrays</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>POINTS</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token punctuation" data-v-67e9cf32>}</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><h2 id="缓冲区对象-buffer-object" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#缓冲区对象-buffer-object" aria-hidden="true" data-v-67e9cf32>#</a> 缓冲区对象（buffer object）</h2><p data-v-67e9cf32>可以一次性向着色器传入多个顶点的数据</p><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token comment" data-v-67e9cf32>// 1.创建缓冲区对象</span>\n<span class="token keyword" data-v-67e9cf32>const</span> vertexBuffer <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>createBuffer</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token comment" data-v-67e9cf32>// 2.将缓存区绑定到目标</span>\n<span class="token comment" data-v-67e9cf32>// gl.ARRAY_BUFFER 表示缓冲区对象中包含了顶点的数据</span>\n<span class="token comment" data-v-67e9cf32>// gl.ELEMENT_ARRAY_BUFFER 表示缓冲区对象中包含了顶点的索引值</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>bindBuffer</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>ARRAY_BUFFER</span><span class="token punctuation" data-v-67e9cf32>,</span>vertexBuffer<span class="token punctuation" data-v-67e9cf32>)</span>\n\n<span class="token keyword" data-v-67e9cf32>const</span> vertices <span class="token operator" data-v-67e9cf32>=</span> <span class="token keyword" data-v-67e9cf32>new</span> <span class="token class-name" data-v-67e9cf32>Float32Array</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>[</span><span class="token number" data-v-67e9cf32>0.0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token operator" data-v-67e9cf32>-</span><span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token operator" data-v-67e9cf32>-</span><span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token operator" data-v-67e9cf32>-</span><span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>]</span><span class="token punctuation" data-v-67e9cf32>)</span>\n<span class="token comment" data-v-67e9cf32>// 3.将数据写入缓存区</span>\n<span class="token comment" data-v-67e9cf32>// gl.STATIC_DRAW 只会向缓冲区对象中写入一次数据，但需要绘制很多次</span>\n<span class="token comment" data-v-67e9cf32>// gl.STREAM_DRAW 只会向缓冲区对象中写入一次数据，然后绘制若干次</span>\n<span class="token comment" data-v-67e9cf32>// gl.DYNAMIC_DRAW 会向缓冲区中多次写入数据，并绘制很多次</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>bufferData</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>ARRAY_BUFFER</span><span class="token punctuation" data-v-67e9cf32>,</span>vertices<span class="token punctuation" data-v-67e9cf32>,</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>STATIC_DRAW</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token keyword" data-v-67e9cf32>const</span> a_Position <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getAttribLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span>program<span class="token punctuation" data-v-67e9cf32>,</span><span class="token string" data-v-67e9cf32>&#39;a_Position&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span> \n<span class="token comment" data-v-67e9cf32>// 4.将缓冲区对象分配给a_position变量</span>\n<span class="token comment" data-v-67e9cf32>// gl.FLOAT 数据格式 </span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>vertexAttribPointer</span><span class="token punctuation" data-v-67e9cf32>(</span>a_Position<span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>2</span><span class="token punctuation" data-v-67e9cf32>,</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>FLOAT</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token boolean" data-v-67e9cf32>false</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token comment" data-v-67e9cf32>// 5.连接a_Position变量与分配给它的缓冲区对象</span>\n<span class="token comment" data-v-67e9cf32>// 让着色器可以访问到 </span>\n<span class="token comment" data-v-67e9cf32>// gl.disableVertexArray 关闭分配</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>enableVertexAttribArray</span><span class="token punctuation" data-v-67e9cf32>(</span>a_Position<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token comment" data-v-67e9cf32>// 6.开始绘制</span>\n<span class="token comment" data-v-67e9cf32>// POINTS,LINES,LINE_STRIP,LINE_LOOP,TRIANGLES,TRIANGLE_STRIP,TRIANGLE_FAN</span>\n<span class="token comment" data-v-67e9cf32>// </span>\n<span class="token comment" data-v-67e9cf32>// 0 从第0个顶点开始绘制</span>\n<span class="token comment" data-v-67e9cf32>// 1 绘制要用到1个顶点</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>drawArrays</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>POINTS</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0</span><span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>1</span><span class="token punctuation" data-v-67e9cf32>)</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><p data-v-67e9cf32><img src="'+e+'" alt="" data-v-67e9cf32><img src="'+c+'" alt="" data-v-67e9cf32></p><h2 id="移动、旋转、缩放" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#移动、旋转、缩放" aria-hidden="true" data-v-67e9cf32>#</a> 移动、旋转、缩放</h2><h3 id="平移" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#平移" aria-hidden="true" data-v-67e9cf32>#</a> 平移</h3><p data-v-67e9cf32><img src="'+p+'" alt="" data-v-67e9cf32></p><div class="language-glsl line-numbers-mode" data-ext="glsl" data-v-67e9cf32><pre class="language-glsl" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>uniform</span> <span class="token keyword" data-v-67e9cf32>vec4</span> u_Translation<span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token keyword" data-v-67e9cf32>attribute</span> <span class="token keyword" data-v-67e9cf32>vec4</span> a_Position<span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token keyword" data-v-67e9cf32>void</span> <span class="token function" data-v-67e9cf32>main</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>{</span>\n gl_Position <span class="token operator" data-v-67e9cf32>=</span> a_Position <span class="token operator" data-v-67e9cf32>+</span> u_Translation<span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>const</span> u_Translation <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getUniformLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span>program<span class="token punctuation" data-v-67e9cf32>,</span><span class="token string" data-v-67e9cf32>&#39;u_Translation&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token keyword" data-v-67e9cf32>const</span> Tx <span class="token operator" data-v-67e9cf32>=</span> <span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span>Ty <span class="token operator" data-v-67e9cf32>=</span> <span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>,</span>Tz <span class="token operator" data-v-67e9cf32>=</span> <span class="token number" data-v-67e9cf32>0.5</span><span class="token punctuation" data-v-67e9cf32>;</span>\ngl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>uniform4f</span><span class="token punctuation" data-v-67e9cf32>(</span>u_Translation<span class="token punctuation" data-v-67e9cf32>,</span>Tx<span class="token punctuation" data-v-67e9cf32>,</span>Ty<span class="token punctuation" data-v-67e9cf32>,</span>Tz<span class="token punctuation" data-v-67e9cf32>,</span><span class="token number" data-v-67e9cf32>0.0</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><h3 id="旋转" tabindex="-1" data-v-67e9cf32><a class="header-anchor" href="#旋转" aria-hidden="true" data-v-67e9cf32>#</a> 旋转</h3><ul data-v-67e9cf32><li data-v-67e9cf32>旋转轴（图形将围绕旋转轴旋转）</li><li data-v-67e9cf32>旋转方向（方向：顺时针或逆时针）</li><li data-v-67e9cf32>旋转角度（图形旋转经过的角度）</li></ul><p data-v-67e9cf32>绕z轴旋转</p><p data-v-67e9cf32><img src="'+o+'" alt="" data-v-67e9cf32><img src="'+d+'" alt="" data-v-67e9cf32></p><p data-v-67e9cf32>消除r得</p><p data-v-67e9cf32><img src="'+l+'" alt="" data-v-67e9cf32></p><div class="language-glsl line-numbers-mode" data-ext="glsl" data-v-67e9cf32><pre class="language-glsl" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>uniform</span> <span class="token keyword" data-v-67e9cf32>vec4</span> a_Position<span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token keyword" data-v-67e9cf32>uniform</span> <span class="token keyword" data-v-67e9cf32>float</span> u_CosB<span class="token punctuation" data-v-67e9cf32>,</span>u_SinB<span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token keyword" data-v-67e9cf32>void</span> <span class="token function" data-v-67e9cf32>main</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>{</span>\n gl_Position<span class="token punctuation" data-v-67e9cf32>.</span>x <span class="token operator" data-v-67e9cf32>=</span> a_Position<span class="token punctuation" data-v-67e9cf32>.</span>x<span class="token operator" data-v-67e9cf32>*</span>u_CosB <span class="token operator" data-v-67e9cf32>-</span> a_Position<span class="token punctuation" data-v-67e9cf32>.</span>y <span class="token operator" data-v-67e9cf32>*</span> u_SinB<span class="token punctuation" data-v-67e9cf32>;</span>\n gl_Position<span class="token punctuation" data-v-67e9cf32>.</span>y <span class="token operator" data-v-67e9cf32>=</span> a_Position<span class="token punctuation" data-v-67e9cf32>.</span>x<span class="token operator" data-v-67e9cf32>*</span>u_SinB <span class="token operator" data-v-67e9cf32>+</span> a_Position<span class="token punctuation" data-v-67e9cf32>.</span>y <span class="token operator" data-v-67e9cf32>*</span> u_CosB<span class="token punctuation" data-v-67e9cf32>;</span>\n gl_Position<span class="token punctuation" data-v-67e9cf32>.</span>z <span class="token operator" data-v-67e9cf32>=</span> a_Position<span class="token punctuation" data-v-67e9cf32>.</span>z<span class="token punctuation" data-v-67e9cf32>;</span>\n gl_Position<span class="token punctuation" data-v-67e9cf32>.</span>w <span class="token operator" data-v-67e9cf32>=</span> <span class="token number" data-v-67e9cf32>1.0</span><span class="token punctuation" data-v-67e9cf32>;</span>\n<span class="token punctuation" data-v-67e9cf32>}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div><div class="language-javascript line-numbers-mode" data-ext="js" data-v-67e9cf32><pre class="language-javascript" data-v-67e9cf32><code data-v-67e9cf32><span class="token keyword" data-v-67e9cf32>const</span> <span class="token constant" data-v-67e9cf32>ANGLE</span> <span class="token operator" data-v-67e9cf32>=</span> <span class="token number" data-v-67e9cf32>90</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token keyword" data-v-67e9cf32>function</span> <span class="token function" data-v-67e9cf32>main</span><span class="token punctuation" data-v-67e9cf32>(</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>{</span>\n <span class="token keyword" data-v-67e9cf32>const</span> radian <span class="token operator" data-v-67e9cf32>=</span> Math<span class="token punctuation" data-v-67e9cf32>.</span><span class="token constant" data-v-67e9cf32>PI</span> <span class="token operator" data-v-67e9cf32>*</span> <span class="token constant" data-v-67e9cf32>ANGLE</span> <span class="token operator" data-v-67e9cf32>/</span> <span class="token number" data-v-67e9cf32>180.0</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>const</span> cosB <span class="token operator" data-v-67e9cf32>=</span> Math<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>cos</span><span class="token punctuation" data-v-67e9cf32>(</span>radian<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>const</span> sinB <span class="token operator" data-v-67e9cf32>=</span> Math<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>sin</span><span class="token punctuation" data-v-67e9cf32>(</span>radian<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n <span class="token keyword" data-v-67e9cf32>const</span> u_CosB <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getUniformLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span>program<span class="token punctuation" data-v-67e9cf32>,</span> <span class="token string" data-v-67e9cf32>&#39;u_CosB&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n <span class="token keyword" data-v-67e9cf32>const</span> u_SinB <span class="token operator" data-v-67e9cf32>=</span> gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>getUniformLocation</span><span class="token punctuation" data-v-67e9cf32>(</span>gl<span class="token punctuation" data-v-67e9cf32>.</span>program<span class="token punctuation" data-v-67e9cf32>,</span> <span class="token string" data-v-67e9cf32>&#39;u_SinB&#39;</span><span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>uniform1f</span><span class="token punctuation" data-v-67e9cf32>(</span>u_CosB<span class="token punctuation" data-v-67e9cf32>,</span>cosB<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n gl<span class="token punctuation" data-v-67e9cf32>.</span><span class="token function" data-v-67e9cf32>uniform1f</span><span class="token punctuation" data-v-67e9cf32>(</span>u_SinB<span class="token punctuation" data-v-67e9cf32>,</span>sinB<span class="token punctuation" data-v-67e9cf32>)</span><span class="token punctuation" data-v-67e9cf32>;</span>\n\n<span class="token punctuation" data-v-67e9cf32>}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-67e9cf32><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div><div class="line-number" data-v-67e9cf32></div></div></div>',31),r={__name:"hello-webgl.html",setup(a){const n=(0,v.iH)();return(0,t.bv)((()=>{(()=>{function a(a,n,s){var t=a.createShader(n);if(a.shaderSource(t,s),a.compileShader(t),a.getShaderParameter(t,a.COMPILE_STATUS))return t;a.deleteShader(t)}const s=n.value.getContext("webgl");if(null===s)return void alert("Unable to initialize WebGL. Your browser or machine may not support it.");const t=function(a,n,s){var t=a.createProgram();if(a.attachShader(t,n),a.attachShader(t,s),a.linkProgram(t),a.getProgramParameter(t,a.LINK_STATUS))return t;console.log(a.getProgramInfoLog(t)),a.deleteProgram(t)}(s,a(s,s.VERTEX_SHADER,"\n   // 一个属性变量，将会从缓冲中获取数据\n  attribute vec4 a_position;\n\n  // 所有着色器都有一个main方法\n  void main() {\n\n    // gl_Position 是一个顶点着色器主要设置的变量\n    gl_Position = a_position;\n  }\n "),a(s,s.FRAGMENT_SHADER,"\n   // 片段着色器没有默认精度，所以我们需要设置一个精度\n  // mediump是一个不错的默认值，代表“medium precision”（中等精度）\n  precision mediump float;\n\n  void main() {\n    // gl_FragColor是一个片段着色器主要设置的变量\n    gl_FragColor = vec4(1, 0, 0.5, 1); // 返回“瑞迪施紫色”\n  }\n\n ")),e=s.getAttribLocation(t,"a_position"),c=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,c),s.bufferData(s.ARRAY_BUFFER,new Float32Array([0,0,0,.5,.7,0]),s.STATIC_DRAW),s.viewport(0,0,s.canvas.width,s.canvas.height),s.clearColor(0,0,0,1),s.clear(s.COLOR_BUFFER_BIT),s.useProgram(t),s.enableVertexAttribArray(e),s.bindBuffer(s.ARRAY_BUFFER,c);var p=s.FLOAT,o=0;s.vertexAttribPointer(e,2,p,!1,0,o);var d=s.TRIANGLES;o=0,s.drawArrays(d,o,3)})()})),(a,s)=>{const e=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("p",null,[(0,t.Uk)("参考："),(0,t._)("a",i,[(0,t.Uk)("https://webglfundamentals.org/webgl/lessons/zh_cn/webgl-fundamentals.html"),(0,t.Wm)(e)]),(0,t.Uk)(" 《WebGL编程指南》")]),u,(0,t._)("p",null,[(0,t._)("canvas",{class:"canvas_hello",ref_key:"canvas_hello",ref:n},null,512)]),f])}}},k=(0,s(61935).Z)(r,[["__scopeId","data-v-67e9cf32"]])},61935:(a,n)=>{n.Z=(a,n)=>{const s=a.__vccOpts||a;for(const[a,t]of n)s[a]=t;return s}},48789:(a,n,s)=>{s.r(n),s.d(n,{data:()=>t});const t=JSON.parse('{"key":"v-2a68af6a","path":"/webgl/hello-webgl.html","title":"Hello WebGL","lang":"zh-CN","frontmatter":{"title":"Hello WebGL","category":["WebGL"],"date":"2023-01-01T00:00:00.000Z","summary":"参考： 《WebGL编程指南》 WebGL只关心两件事： 裁剪空间中的坐标值和颜色值。使用WebGL只需要给它提供这两个东西。 你需要提供两个着色器来做这两件事，一个顶点着色器提供裁剪空间坐标值，一个片段着色器提供颜色值。 无论你的画布有多大，裁剪空间的坐标范围永远是 -1 到 1 1.需要一个HTML中的canvas（画布）对象 2.创建一个WebGL渲染","head":[["meta",{"property":"og:url","content":"https://luxiag.github.io/webgl/hello-webgl.html"}],["meta",{"property":"og:title","content":"Hello WebGL"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://luxiag.github.io/"}],["meta",{"property":"og:updated_time","content":"2023-04-19T06:43:34.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:image:alt","content":"Hello WebGL"}],["meta",{"property":"article:published_time","content":"2023-01-01T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-04-19T06:43:34.000Z"}]]},"excerpt":"","headers":[{"level":2,"title":"顶点着色器","slug":"顶点着色器","link":"#顶点着色器","children":[]},{"level":2,"title":"片元着色器","slug":"片元着色器","link":"#片元着色器","children":[]},{"level":2,"title":"为着色器赋值","slug":"为着色器赋值","link":"#为着色器赋值","children":[{"level":3,"title":"attribute","slug":"attribute","link":"#attribute","children":[]},{"level":3,"title":"uniform","slug":"uniform","link":"#uniform","children":[]}]},{"level":2,"title":"注册事件","slug":"注册事件","link":"#注册事件","children":[]},{"level":2,"title":"缓冲区对象（buffer object）","slug":"缓冲区对象-buffer-object","link":"#缓冲区对象-buffer-object","children":[]},{"level":2,"title":"移动、旋转、缩放","slug":"移动、旋转、缩放","link":"#移动、旋转、缩放","children":[{"level":3,"title":"平移","slug":"平移","link":"#平移","children":[]},{"level":3,"title":"旋转","slug":"旋转","link":"#旋转","children":[]}]}],"git":{"createdTime":1681886614000,"updatedTime":1681886614000,"contributors":[{"name":"卢祥","email":"example@qq.com","commits":1}]},"readingTime":{"minutes":6.1,"words":1830},"filePathRelative":"webgl/hello-webgl.md","localizedDate":"2023年1月1日"}')}}]);