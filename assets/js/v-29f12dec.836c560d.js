"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[2243],{77812:(a,n,s)=>{s.r(n),s.d(n,{default:()=>m});var t=s(71534),e=s(32049),p=s(86171),o=s(97630),d=s(80984),i=s(7132),c=s(33344);const l={href:"https://threejs.org/",target:"_blank",rel:"noopener noreferrer"},v=(0,t.uE)('<div class="language-javascript line-numbers-mode" data-ext="js" data-v-7a37a7aa><pre class="language-javascript" data-v-7a37a7aa><code data-v-7a37a7aa><span class="token comment" data-v-7a37a7aa>//遍历场景中的所有对象，然后判断当前对象是否是光源对象</span>\n<span class="token keyword" data-v-7a37a7aa>function</span> <span class="token function" data-v-7a37a7aa>toggleLights</span><span class="token punctuation" data-v-7a37a7aa>(</span> <span class="token parameter" data-v-7a37a7aa>visible</span> <span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n\tscene<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>traverse</span><span class="token punctuation" data-v-7a37a7aa>(</span> <span class="token keyword" data-v-7a37a7aa>function</span> <span class="token punctuation" data-v-7a37a7aa>(</span> <span class="token parameter" data-v-7a37a7aa>object</span> <span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n\t\t<span class="token keyword" data-v-7a37a7aa>if</span> <span class="token punctuation" data-v-7a37a7aa>(</span> object<span class="token punctuation" data-v-7a37a7aa>.</span>isLight <span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n\t\t\tobject<span class="token punctuation" data-v-7a37a7aa>.</span>visible <span class="token operator" data-v-7a37a7aa>=</span> visible<span class="token punctuation" data-v-7a37a7aa>;</span>\n\t\t<span class="token punctuation" data-v-7a37a7aa>}</span>\n\t<span class="token punctuation" data-v-7a37a7aa>}</span> <span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\t<span class="token function" data-v-7a37a7aa>render</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n<span class="token punctuation" data-v-7a37a7aa>}</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-7a37a7aa><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div></div></div>',1),u=(0,t.uE)('<div class="language-javascript line-numbers-mode" data-ext="js" data-v-7a37a7aa><pre class="language-javascript" data-v-7a37a7aa><code data-v-7a37a7aa>    <span class="token keyword" data-v-7a37a7aa>const</span> shaderMaterial <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>ShaderMaterial</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>{</span>\n        <span class="token comment" data-v-7a37a7aa>// 定义顶点着色器，用于处理顶点属性</span>\n        <span class="token literal-property property" data-v-7a37a7aa>vertexShader</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token template-string" data-v-7a37a7aa><span class="token template-punctuation string" data-v-7a37a7aa>`</span><span class="token string" data-v-7a37a7aa>\n            precision lowp float;\n            // 传递顶点位置信息到片元着色器\n            varying vec4 vPosition;\n            // 传递变换后的顶点位置信息到片元着色器\n            varying vec4 gPosition;\n            void main(){\n                // 将顶点坐标从模型空间变换到世界空间\n                vec4 modelPosition = modelMatrix * vec4( position, 1.0 );\n                // 将变换后的顶点坐标从世界空间变换到相机空间\n                // 并传递给 varying vPosition\n                vPosition = modelPosition;\n                // 将顶点坐标从模型空间变换到世界空间\n                // 并传递给 varying gPosition\n                gPosition = vec4( position, 1.0 );\n                // 将顶点坐标从模型空间变换到相机空间和投影空间\n                gl_Position =  projectionMatrix * viewMatrix * modelPosition;\n            }\n        </span><span class="token template-punctuation string" data-v-7a37a7aa>`</span></span><span class="token punctuation" data-v-7a37a7aa>,</span>\n        <span class="token comment" data-v-7a37a7aa>// 定义片元着色器，用于处理像素颜色</span>\n        <span class="token literal-property property" data-v-7a37a7aa>fragmentShader</span><span class="token operator" data-v-7a37a7aa>:</span><span class="token template-string" data-v-7a37a7aa><span class="token template-punctuation string" data-v-7a37a7aa>`</span><span class="token string" data-v-7a37a7aa>\n            precision lowp float;\n            // 接收来自顶点着色器的变量\n            varying vec4 vPosition;\n            varying vec4 gPosition;\n\n            void main(){\n                // 定义红色和黄色的颜色值\n                vec4 redColor = vec4(1,0,0,1);\n                vec4 yellowColor = vec4(1,1,0.5,1);\n                // 计算需要混合的颜色值，并传递给 gl_FragColor\n                vec4 mixColor = mix(yellowColor,redColor,gPosition.y/3.0);\n\n                if(gl_FrontFacing){\n                    // 对于正面的面，计算并设置像素颜色\n                    gl_FragColor = vec4(mixColor.xyz-(vPosition.y-20.0)/80.0-0.1,1);\n                }else{\n                    // 对于背面的面，直接设置像素颜色\n                    gl_FragColor = vec4(mixColor.xyz,1);\n                }\n            }  \n        </span><span class="token template-punctuation string" data-v-7a37a7aa>`</span></span><span class="token punctuation" data-v-7a37a7aa>,</span>\n        <span class="token comment" data-v-7a37a7aa>// 传递给着色器的变量，这里为空对象</span>\n        <span class="token literal-property property" data-v-7a37a7aa>uniforms</span><span class="token operator" data-v-7a37a7aa>:</span><span class="token punctuation" data-v-7a37a7aa>{</span><span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n        <span class="token comment" data-v-7a37a7aa>// 设置物体的两面都需要渲染</span>\n        <span class="token literal-property property" data-v-7a37a7aa>side</span><span class="token operator" data-v-7a37a7aa>:</span><span class="token constant" data-v-7a37a7aa>THREE</span><span class="token punctuation" data-v-7a37a7aa>.</span>DoubleSide\n    <span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>)</span>\n\n    <span class="token keyword" data-v-7a37a7aa>const</span> gltfLoader <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>GLTFLoader</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span>\n    <span class="token keyword" data-v-7a37a7aa>let</span> LightBox <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>null</span> \n\n    gltfLoader<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>load</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token string" data-v-7a37a7aa>&quot;/assets/model/flyLight.glb&quot;</span><span class="token punctuation" data-v-7a37a7aa>,</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token parameter" data-v-7a37a7aa>gltf</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>=&gt;</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n        LightBox <span class="token operator" data-v-7a37a7aa>=</span> gltf<span class="token punctuation" data-v-7a37a7aa>.</span>scene<span class="token punctuation" data-v-7a37a7aa>.</span>children<span class="token punctuation" data-v-7a37a7aa>[</span><span class="token number" data-v-7a37a7aa>1</span><span class="token punctuation" data-v-7a37a7aa>]</span>\n\n        LightBox<span class="token punctuation" data-v-7a37a7aa>.</span>material <span class="token operator" data-v-7a37a7aa>=</span> shaderMaterial<span class="token punctuation" data-v-7a37a7aa>;</span>\n        \n        <span class="token keyword" data-v-7a37a7aa>for</span> <span class="token punctuation" data-v-7a37a7aa>(</span><span class="token keyword" data-v-7a37a7aa>let</span> i <span class="token operator" data-v-7a37a7aa>=</span> <span class="token number" data-v-7a37a7aa>0</span><span class="token punctuation" data-v-7a37a7aa>;</span> i <span class="token operator" data-v-7a37a7aa>&lt;</span> <span class="token number" data-v-7a37a7aa>150</span><span class="token punctuation" data-v-7a37a7aa>;</span> i<span class="token operator" data-v-7a37a7aa>++</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n          <span class="token keyword" data-v-7a37a7aa>let</span> flyLight <span class="token operator" data-v-7a37a7aa>=</span> gltf<span class="token punctuation" data-v-7a37a7aa>.</span>scene<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>clone</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token boolean" data-v-7a37a7aa>true</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          <span class="token keyword" data-v-7a37a7aa>let</span> x <span class="token operator" data-v-7a37a7aa>=</span> <span class="token punctuation" data-v-7a37a7aa>(</span>Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>-</span> <span class="token number" data-v-7a37a7aa>0.5</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>300</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          <span class="token keyword" data-v-7a37a7aa>let</span> z <span class="token operator" data-v-7a37a7aa>=</span> <span class="token punctuation" data-v-7a37a7aa>(</span>Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>-</span> <span class="token number" data-v-7a37a7aa>0.5</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>300</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          <span class="token keyword" data-v-7a37a7aa>let</span> y <span class="token operator" data-v-7a37a7aa>=</span> Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>60</span> <span class="token operator" data-v-7a37a7aa>+</span> <span class="token number" data-v-7a37a7aa>25</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          flyLight<span class="token punctuation" data-v-7a37a7aa>.</span>position<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>set</span><span class="token punctuation" data-v-7a37a7aa>(</span>x<span class="token punctuation" data-v-7a37a7aa>,</span> y<span class="token punctuation" data-v-7a37a7aa>,</span> z<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          gsap<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>to</span><span class="token punctuation" data-v-7a37a7aa>(</span>flyLight<span class="token punctuation" data-v-7a37a7aa>.</span>rotation<span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n            <span class="token literal-property property" data-v-7a37a7aa>y</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token number" data-v-7a37a7aa>2</span> <span class="token operator" data-v-7a37a7aa>*</span> Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token constant" data-v-7a37a7aa>PI</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n            <span class="token literal-property property" data-v-7a37a7aa>duration</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token number" data-v-7a37a7aa>10</span> <span class="token operator" data-v-7a37a7aa>+</span> Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>30</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n            <span class="token literal-property property" data-v-7a37a7aa>repeat</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token operator" data-v-7a37a7aa>-</span><span class="token number" data-v-7a37a7aa>1</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n          <span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          gsap<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>to</span><span class="token punctuation" data-v-7a37a7aa>(</span>flyLight<span class="token punctuation" data-v-7a37a7aa>.</span>position<span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n            <span class="token literal-property property" data-v-7a37a7aa>x</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token string" data-v-7a37a7aa>&quot;+=&quot;</span> <span class="token operator" data-v-7a37a7aa>+</span> Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>5</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n            <span class="token literal-property property" data-v-7a37a7aa>y</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token string" data-v-7a37a7aa>&quot;+=&quot;</span> <span class="token operator" data-v-7a37a7aa>+</span> Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>20</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n            <span class="token literal-property property" data-v-7a37a7aa>yoyo</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token boolean" data-v-7a37a7aa>true</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n            <span class="token literal-property property" data-v-7a37a7aa>duration</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token number" data-v-7a37a7aa>5</span> <span class="token operator" data-v-7a37a7aa>+</span> Math<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>random</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token operator" data-v-7a37a7aa>*</span> <span class="token number" data-v-7a37a7aa>10</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n            <span class="token literal-property property" data-v-7a37a7aa>repeat</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token operator" data-v-7a37a7aa>-</span><span class="token number" data-v-7a37a7aa>1</span><span class="token punctuation" data-v-7a37a7aa>,</span>\n          <span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n          scene<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>add</span><span class="token punctuation" data-v-7a37a7aa>(</span>flyLight<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n        <span class="token punctuation" data-v-7a37a7aa>}</span>\n\n    <span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>)</span>\n\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-7a37a7aa><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div></div></div>',1),r=(0,t.uE)('<div class="language-javascript line-numbers-mode" data-ext="js" data-v-7a37a7aa><pre class="language-javascript" data-v-7a37a7aa><code data-v-7a37a7aa><span class="token keyword" data-v-7a37a7aa>function</span> <span class="token function" data-v-7a37a7aa>createLight</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token parameter" data-v-7a37a7aa>color</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 定义光源强度为2</span>\n  <span class="token keyword" data-v-7a37a7aa>const</span> intensity <span class="token operator" data-v-7a37a7aa>=</span> <span class="token number" data-v-7a37a7aa>2</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 创建一个点光源</span>\n  <span class="token keyword" data-v-7a37a7aa>const</span> light <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>PointLight</span><span class="token punctuation" data-v-7a37a7aa>(</span>color<span class="token punctuation" data-v-7a37a7aa>,</span> intensity<span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>20</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 开启阴影</span>\n  light<span class="token punctuation" data-v-7a37a7aa>.</span>castShadow <span class="token operator" data-v-7a37a7aa>=</span> <span class="token boolean" data-v-7a37a7aa>true</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 减少双面对象自身阴影</span>\n  light<span class="token punctuation" data-v-7a37a7aa>.</span>shadow<span class="token punctuation" data-v-7a37a7aa>.</span>bias <span class="token operator" data-v-7a37a7aa>=</span> <span class="token operator" data-v-7a37a7aa>-</span><span class="token number" data-v-7a37a7aa>0.005</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 创建一个球体作为光源的可视化表示</span>\n  <span class="token keyword" data-v-7a37a7aa>let</span> geometry <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>SphereGeometry</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token number" data-v-7a37a7aa>0.3</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>12</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>6</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  <span class="token keyword" data-v-7a37a7aa>let</span> material <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>MeshBasicMaterial</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>{</span>\n    <span class="token literal-property property" data-v-7a37a7aa>color</span><span class="token operator" data-v-7a37a7aa>:</span> color\n  <span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 根据光源强度调整颜色</span>\n  material<span class="token punctuation" data-v-7a37a7aa>.</span>color<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>multiplyScalar</span><span class="token punctuation" data-v-7a37a7aa>(</span>intensity<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token keyword" data-v-7a37a7aa>let</span> sphere <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>Mesh</span><span class="token punctuation" data-v-7a37a7aa>(</span>geometry<span class="token punctuation" data-v-7a37a7aa>,</span> material<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 将球体添加到光源上</span>\n  light<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>add</span><span class="token punctuation" data-v-7a37a7aa>(</span>sphere<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 生成纹理</span>\n  <span class="token keyword" data-v-7a37a7aa>const</span> texture <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>CanvasTexture</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token function" data-v-7a37a7aa>generateTexture</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 设置纹理过滤器和重复方式</span>\n  texture<span class="token punctuation" data-v-7a37a7aa>.</span>magFilter <span class="token operator" data-v-7a37a7aa>=</span> <span class="token constant" data-v-7a37a7aa>THREE</span><span class="token punctuation" data-v-7a37a7aa>.</span>NearestFilter<span class="token punctuation" data-v-7a37a7aa>;</span>\n  texture<span class="token punctuation" data-v-7a37a7aa>.</span>wrapT <span class="token operator" data-v-7a37a7aa>=</span> <span class="token constant" data-v-7a37a7aa>THREE</span><span class="token punctuation" data-v-7a37a7aa>.</span>RepeatWrapping<span class="token punctuation" data-v-7a37a7aa>;</span>\n  texture<span class="token punctuation" data-v-7a37a7aa>.</span>wrapS <span class="token operator" data-v-7a37a7aa>=</span> <span class="token constant" data-v-7a37a7aa>THREE</span><span class="token punctuation" data-v-7a37a7aa>.</span>RepeatWrapping<span class="token punctuation" data-v-7a37a7aa>;</span>\n  texture<span class="token punctuation" data-v-7a37a7aa>.</span>repeat<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>set</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token number" data-v-7a37a7aa>1</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>4.5</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 创建一个球体作为光源的光晕效果</span>\n  geometry <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>SphereGeometry</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token number" data-v-7a37a7aa>2</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>32</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>8</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  material <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>MeshPhongMaterial</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>{</span>\n    <span class="token literal-property property" data-v-7a37a7aa>side</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token constant" data-v-7a37a7aa>THREE</span><span class="token punctuation" data-v-7a37a7aa>.</span>DoubleSide<span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token comment" data-v-7a37a7aa>// 双面显示</span>\n    <span class="token literal-property property" data-v-7a37a7aa>alphaMap</span><span class="token operator" data-v-7a37a7aa>:</span> texture<span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token comment" data-v-7a37a7aa>// 设置透明度贴图</span>\n    <span class="token literal-property property" data-v-7a37a7aa>alphaTest</span><span class="token operator" data-v-7a37a7aa>:</span> <span class="token number" data-v-7a37a7aa>0.5</span> <span class="token comment" data-v-7a37a7aa>// 设置透明度阈值</span>\n  <span class="token punctuation" data-v-7a37a7aa>}</span><span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  sphere <span class="token operator" data-v-7a37a7aa>=</span> <span class="token keyword" data-v-7a37a7aa>new</span> <span class="token class-name" data-v-7a37a7aa>THREE<span class="token punctuation" data-v-7a37a7aa>.</span>Mesh</span><span class="token punctuation" data-v-7a37a7aa>(</span>geometry<span class="token punctuation" data-v-7a37a7aa>,</span> material<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 开启球体阴影和接收阴影</span>\n  sphere<span class="token punctuation" data-v-7a37a7aa>.</span>castShadow <span class="token operator" data-v-7a37a7aa>=</span> <span class="token boolean" data-v-7a37a7aa>true</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  sphere<span class="token punctuation" data-v-7a37a7aa>.</span>receiveShadow <span class="token operator" data-v-7a37a7aa>=</span> <span class="token boolean" data-v-7a37a7aa>true</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 将球体添加到光源上</span>\n  light<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>add</span><span class="token punctuation" data-v-7a37a7aa>(</span>sphere<span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 返回创建的光源</span>\n  <span class="token keyword" data-v-7a37a7aa>return</span> light<span class="token punctuation" data-v-7a37a7aa>;</span>\n\n<span class="token punctuation" data-v-7a37a7aa>}</span>\n<span class="token doc-comment comment" data-v-7a37a7aa>/**\n * 生成一个 2x2 的纯白色 canvas 纹理\n */</span>\n<span class="token keyword" data-v-7a37a7aa>function</span> <span class="token function" data-v-7a37a7aa>generateTexture</span><span class="token punctuation" data-v-7a37a7aa>(</span><span class="token punctuation" data-v-7a37a7aa>)</span> <span class="token punctuation" data-v-7a37a7aa>{</span>\n  <span class="token comment" data-v-7a37a7aa>// 创建一个 canvas 元素，并设置它的宽高为 2</span>\n  <span class="token keyword" data-v-7a37a7aa>const</span> canvas <span class="token operator" data-v-7a37a7aa>=</span> document<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>createElement</span><span class="token punctuation" data-v-7a37a7aa>(</span> <span class="token string" data-v-7a37a7aa>&#39;canvas&#39;</span> <span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  canvas<span class="token punctuation" data-v-7a37a7aa>.</span>width <span class="token operator" data-v-7a37a7aa>=</span> <span class="token number" data-v-7a37a7aa>2</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  canvas<span class="token punctuation" data-v-7a37a7aa>.</span>height <span class="token operator" data-v-7a37a7aa>=</span> <span class="token number" data-v-7a37a7aa>2</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 获取 canvas 的绘制上下文，并将其填充为白色</span>\n  <span class="token keyword" data-v-7a37a7aa>const</span> context <span class="token operator" data-v-7a37a7aa>=</span> canvas<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>getContext</span><span class="token punctuation" data-v-7a37a7aa>(</span> <span class="token string" data-v-7a37a7aa>&#39;2d&#39;</span> <span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  context<span class="token punctuation" data-v-7a37a7aa>.</span>fillStyle <span class="token operator" data-v-7a37a7aa>=</span> <span class="token string" data-v-7a37a7aa>&#39;white&#39;</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n  context<span class="token punctuation" data-v-7a37a7aa>.</span><span class="token function" data-v-7a37a7aa>fillRect</span><span class="token punctuation" data-v-7a37a7aa>(</span> <span class="token number" data-v-7a37a7aa>0</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>1</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>2</span><span class="token punctuation" data-v-7a37a7aa>,</span> <span class="token number" data-v-7a37a7aa>1</span> <span class="token punctuation" data-v-7a37a7aa>)</span><span class="token punctuation" data-v-7a37a7aa>;</span>\n\n  <span class="token comment" data-v-7a37a7aa>// 返回生成的纹理</span>\n  <span class="token keyword" data-v-7a37a7aa>return</span> canvas<span class="token punctuation" data-v-7a37a7aa>;</span>\n<span class="token punctuation" data-v-7a37a7aa>}</span>\n</code></pre><div class="line-numbers" aria-hidden="true" data-v-7a37a7aa><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div><div class="line-number" data-v-7a37a7aa></div></div></div>',1),k={__name:"threejs-light.html",setup(a){let n;const k=(0,e.iH)(),m=(0,e.iH)(),b=(0,e.iH)();return(0,t.bv)((async()=>{n=await s.e(464).then(s.bind(s,70464)),(()=>{const a=new p.xsS,n=new p.cPb(90,2,.1,1e3);n.position.y=5,(new i.x).loadAsync("/assets/textures/2k.hdr").then((n=>{n.mapping=p.dSO,a.background=n,a.environment=n}));const s=new p.jyz({vertexShader:"\n            precision lowp float;\n            varying vec4 vPosition;\n            varying vec4 gPosition;\n            void main(){\n                vec4 modelPosition = modelMatrix * vec4( position, 1.0 );\n\n                vPosition = modelPosition;\n                gPosition = vec4( position, 1.0 );\n                gl_Position =  projectionMatrix * viewMatrix * modelPosition;\n            }\n        ",fragmentShader:"\n            precision lowp float;\n            varying vec4 vPosition;\n            varying vec4 gPosition;\n\n            void main(){\n                vec4 redColor = vec4(1,0,0,1);\n                vec4 yellowColor = vec4(1,1,0.5,1);\n                vec4 mixColor = mix(yellowColor,redColor,gPosition.y/3.0);\n\n\n\n                if(gl_FrontFacing){\n                    gl_FragColor = vec4(mixColor.xyz-(vPosition.y-20.0)/80.0-0.1,1);\n                    // gl_FragColor = vec4(1,1,1,1);\n                }else{\n                    gl_FragColor = vec4(mixColor.xyz,1);\n                }\n            }  \n        ",uniforms:{},side:p.ehD}),t=new p.CP7;t.outputEncoding=p.knz,t.toneMapping=p.LY2,t.toneMappingExposure=.2;const e=new c.E;let l=null;e.load("/assets/model/flyLight.glb",(n=>{l=n.scene.children[1],l.material=s;for(let s=0;s<150;s++){let s=n.scene.clone(!0),t=300*(Math.random()-.5),e=300*(Math.random()-.5),p=60*Math.random()+25;s.position.set(t,p,e),d.ZP.to(s.rotation,{y:2*Math.PI,duration:10+30*Math.random(),repeat:-1}),d.ZP.to(s.position,{x:"+="+5*Math.random(),y:"+="+20*Math.random(),yoyo:!0,duration:5+10*Math.random(),repeat:-1}),a.add(s)}})),t.setSize(m.value.offsetWidth,m.value.offsetWidth/2),window.addEventListener("resize",(()=>{t.setSize(m.value.offsetWidth,m.value.offsetWidth/2),t.setPixelRatio(window.devicePixelRatio)})),m.value.appendChild(t.domElement);const v=new o.z(n,t.domElement);v.enableDamping=!0,v.update(),v.autoRotate=!0,v.autoRotateSpeed=.1,v.maxPolarAngle=Math.PI/3*2,v.minPolarAngle=Math.PI/3*2;const u=new p.SUY;!function s(e){u.getElapsedTime(),requestAnimationFrame(s),t.render(a,n)}()})(),(async()=>{const a=new p.xsS,s=new p.cPb(45,2,.25,20);s.position.set(-2,1.5,3);const t=new i.x,e=await t.loadAsync("/threejs/textures/equirectangular/moonless_golf_1k.hdr ");e.mapping=p.dSO,a.background=e,a.environment=e;const d=new c.E,l=await d.loadAsync("/threejs/models/gltf/LightsPunctualLamp.glb");a.add(l.scene);const v=new n.GUI;k.value.appendChild(v.domElement),v.domElement.style.position="absolute",v.domElement.style.top="0px",v.domElement.style.right="0px",v.add({punctualLightsEnabled:!0},"punctualLightsEnabled").onChange((function(n){a.traverse((function(a){a.isLight&&(a.visible=n)})),m()})),v.open();const u=new p.CP7({antialias:!0});u.setSize(k.value.offsetWidth,k.value.offsetWidth/2),u.toneMapping=p.LY2,u.toneMappingExposure=1,u.outputEncoding=p.knz,u.useLegacyLights=!1,k.value.appendChild(u.domElement);const r=new o.z(s,u.domElement);function m(){u.render(a,s)}r.addEventListener("change",m),r.minDistance=2,r.maxDistance=10,r.target.set(0,1,0),r.update(),window.addEventListener("resize",(function(){u.setSize(k.value.offsetWidth,k.value.offsetWidth/2),m()})),m()})(),(()=>{const a=new p.xsS,n=new p.cPb(45,2,1,2e3);function s(a){const n=new p.cek(a,2,20);n.castShadow=!0,n.shadow.bias=-.005;let s=new p.xo$(.3,12,6),t=new p.vBJ({color:a});t.color.multiplyScalar(2);let e=new p.Kj0(s,t);n.add(e);const o=new p.ROQ(function(){const a=document.createElement("canvas");a.width=2,a.height=2;const n=a.getContext("2d");return n.fillStyle="white",n.fillRect(0,1,2,1),a}());return o.magFilter=p.TyD,o.wrapT=p.rpg,o.wrapS=p.rpg,o.repeat.set(1,4.5),s=new p.xo$(2,32,8),t=new p.xoR({side:p.ehD,alphaMap:o,alphaTest:.5}),e=new p.Kj0(s,t),e.castShadow=!0,e.receiveShadow=!0,n.add(e),n}n.position.z=20,a.add(new p.Mig(1118498));const t=s(35071);a.add(t);const e=s(16746632);a.add(e);const d=new p.DvJ(30,30,30),i=new p.xoR({color:10530223,shininess:10,specular:1118481,side:p._Li}),c=new p.Kj0(d,i);c.position.y=10,c.receiveShadow=!0,a.add(c);const l=new p.CP7({antialias:!0});l.setPixelRatio(window.devicePixelRatio),l.setSize(b.value.offsetWidth,b.value.offsetWidth/2),l.shadowMap.enabled=!0,l.shadowMap.type=p._MY,b.value.appendChild(l.domElement);const v=new o.z(n,l.domElement);v.target.set(0,10,0),v.update(),window.addEventListener("resize",(function(){l.setSize(b.value.offsetWidth,b.value.offsetWidth/2)})),function s(){requestAnimationFrame(s),function(){let s=.001*performance.now();t.position.x=9*Math.sin(.6*s),t.position.y=9*Math.sin(.7*s)+6,t.position.z=9*Math.sin(.8*s),t.rotation.x=s,t.rotation.z=s,s+=1e4,e.position.x=9*Math.sin(.6*s),e.position.y=9*Math.sin(.7*s)+6,e.position.z=9*Math.sin(.8*s),e.rotation.x=s,e.rotation.z=s,l.render(a,n)}()}()})()})),(a,n)=>{const s=(0,t.up)("ExternalLinkIcon");return(0,t.wg)(),(0,t.iD)("div",null,[(0,t._)("p",null,[(0,t.Uk)("参考："),(0,t._)("a",l,[(0,t.Uk)("https://threejs.org/"),(0,t.Wm)(s)])]),v,(0,t._)("div",{ref_key:"lightRef",ref:k,class:"light"},null,512),u,(0,t._)("div",{ref_key:"lanternRef",ref:m},null,512),r,(0,t._)("div",{ref_key:"pointLightRef",ref:b},null,512)])}}},m=(0,s(61935).Z)(k,[["__scopeId","data-v-7a37a7aa"]])},61935:(a,n)=>{n.Z=(a,n)=>{const s=a.__vccOpts||a;for(const[a,t]of n)s[a]=t;return s}},98990:(a,n,s)=>{s.r(n),s.d(n,{data:()=>t});const t=JSON.parse('{"key":"v-29f12dec","path":"/threejs/threejs-light.html","title":"ThreeJS中的灯光","lang":"zh-CN","frontmatter":{"title":"ThreeJS中的灯光","category":["ThreeJS"],"date":"2022-03-07T00:00:00.000Z","summary":"参考：https://threejs.org/ import {ref,onMounted} from \'vue\' import * as THREE from \\"three\\"; import { OrbitControls } from \\"three/examples/jsm/controls/OrbitControls\\"; import gsap fro","head":[["meta",{"property":"og:url","content":"https://luxiag.github.io/threejs/threejs-light.html"}],["meta",{"property":"og:title","content":"ThreeJS中的灯光"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:updated_time","content":"2023-04-27T03:25:07.000Z"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"article:published_time","content":"2022-03-07T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2023-04-27T03:25:07.000Z"}]]},"excerpt":"","headers":[],"git":{"createdTime":1682066702000,"updatedTime":1682565907000,"contributors":[{"name":"卢祥","email":"example@qq.com","commits":2}]},"readingTime":{"minutes":5.36,"words":1608},"filePathRelative":"threejs/threejs-light.md","localizedDate":"2022年3月7日"}')}}]);